Developer installation on mac osx (updated on 15th of july ,2013)
=================================

This file is supposed to guide you step by step to have working (compiling) version of Natron on mac osx ( >= 10.6 ). 
You need an up to date macports version. Just download it and install it from : 
(Macports website)[http://www.macports.org]

##Note

If you're planning on writing a CMAKE based project file, and that you succeed in making it portable(windows/linux/osx), please send a mail at immarespond at gmail dot com.

##Install libraries

In order to have Natron compiling, first you need to install the required libraries.

###Qt 4.8.5

You'll need to install Qt libraries from [Qt download](http://qt-project.org/downloads). Alternatively you can get it from macports:

	sudo port install qt4-mac


###boost

You can download boost from 
(boost download)[http://www.boost.org/users/download/]
or through macports
	sudo port install boost

For now only boost serialisation is required.

We're done here for libraries.

### OpenFX

Go under Natron_Core and type
	git submodule update -i

###Expat

With macports:

	sudo port install expat	

###GLEW

With macports:

	sudo port install glew

create the file /opt/local/lib/pkgconfig/glu.pc containing GLU
configuration, for example using the following comands:

sudo -s
cat > /opt/local/lib/pkgconfig/glu.pc << EOF
 prefix=/usr
 exec_prefix=${prefix}
 libdir=${exec_prefix}/lib
 includedir=${prefix}/include


Name: glu
 Version: 2.0
 Description: glu
 Requires:
 Libs:
 Cflags: -I${includedir}
EOF

###Add the config.pri file

You have to define the locations of the required libraries. This is done by creating a .pri file that will tell the .pro where to find those libraries. The only library to put in the config.pri file on unix systems is boost. For all other libraries are found with PKGConfig.

- create the config.pri file next to the Natron.pro file.

You can fill it with the following proposed code to point to the libraries. Of course you need to provide valid paths that are valid on your system.

INCLUDEPATH is the path to the include files

LIBS is the path to the libs


boost {
    INCLUDEPATH += /opt/local/include
    LIBS += -L/opt/local/lib -lboost_serialization-mt -lboost_thread-mt - lboost_system-mt
}

###Build with Makefile
You can generate a makefile by typing
 cd <YOUR_PATH_TO_Natron>/Natron && qmake Natron.pro

then type
	make
This will create all binaries in the build_Natron folder.

### Build:

The <srcPath> must be absolute and <buildPath> must not be a subdir of <srcPath>


mkdir <buildPath>
cd <buildfolder>
qmake <srcPath>/Natron.pro
make

If you want to build in DEBUG mode change the qmake call to this line:

qmake CONFIG+=debug <srcPath>/Natron.pro

*You can also enable logging by adding CONFIG+=log
*You can also enable clang sanitizer by adding CONFIG+=sanitizer

* If using Xcode to compile, and it doesn't find the necessary
binaries (qmake, moc, pkg-config, just execute this line from a
terminal and log in/out of your session (see
http://www.emacswiki.org/emacs/EmacsApp for other options):

launchctl setenv PATH /opt/local/bin:/opt/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin

###(Optional) Build on QtCreator

Open Natron.pro and under the tab Projects,locate the Build Environment section. You need to add to your path /opt/local/bin so pkg-config launched by  QMake can find the libraries. This is not necessary when using QMake from the command line because /opt/local/bin is already in the path.



### Build on Xcode

Follow the instruction of build but 
add -spec macx-xcode to the qmake call command:

qmake -spec macx-xcode <srcPath>/Natron.pro


Also there's a bug with Xcode and quake so please use this command in order to be able to build within Xcode.

ln -s <absolulePath>/Info.plist .


